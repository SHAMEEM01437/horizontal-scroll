<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Lenis + GSAP Horizontal Scroll</title>
  <style>
    body {
      margin: 0;
      font-family: Arial, sans-serif;
    }

    section {
      height: 100vh;
      display: flex;
      justify-content: center;
      align-items: center;
      font-size: 2rem;
      font-weight: bold;
      color: white;
    }

    .one { background: #3c8cc9; }
    .two { background: #ec168f; }
    .three { 
      background: #222; 
      height: auto; 
      display: block;
      color: #fff;
      overflow: hidden;
    }
    .four { background: #f48020; }

    /* Service card container */
    .services-wrapper {
      display: flex;
      gap: 20px;
      padding: 50px;
    }

    .service-card {
      min-width: 500px;
      height: 600px;
      background: #444;
      border-radius: 15px;
      display: flex;
      justify-content: center;
      align-items: center;
      font-size: 1.5rem;
      font-weight: bold;
    }
  </style>
</head>
<body>

  <section class="one">Section One</section>
  <section class="two">Section Two</section>

  <!-- Horizontal scroll section -->
  <section class="three">
    <div class="services-wrapper">
      <div class="service-card">Service 1</div>
      <div class="service-card">Service 2</div>
      <div class="service-card">Service 3</div>
      <div class="service-card">Service 4</div>
      <div class="service-card">Service 5</div>
      <div class="service-card">Service 6</div>
      <div class="service-card">Service 7</div>
      <div class="service-card">Service 8</div>
    </div>
  </section>

  <section class="four">Section Four</section>

  <!-- Lenis CDN -->
  <script src="https://unpkg.com/@studio-freight/lenis"></script>
  <!-- GSAP + ScrollTrigger -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/ScrollTrigger.min.js"></script>

  <script>
    // Initialize Lenis
    const lenis = new Lenis({
      duration: 1.2,
      easing: (t) => Math.min(1, 1.001 - Math.pow(2, -10 * t)),
      smoothWheel: true,
      smoothTouch: true,
    })

    function raf(time) {
      lenis.raf(time)
      requestAnimationFrame(raf)
    }
    requestAnimationFrame(raf)

    lenis.on('scroll', ScrollTrigger.update)
    gsap.ticker.add((time) => {
      lenis.raf(time * 1000)
    })

    // Horizontal Scroll Section
    const servicesWrapper = document.querySelector(".services-wrapper");
    const cards = gsap.utils.toArray(".service-card");
    const totalWidth = servicesWrapper.scrollWidth - window.innerWidth;

    gsap.to(servicesWrapper, {
      x: () => -totalWidth,
      ease: "none",
      scrollTrigger: {
        trigger: ".three",
        start: "top top",
        end: () => "+=" + (servicesWrapper.scrollWidth - window.innerWidth),
        scrub: true,
        pin: true,
        anticipatePin: 1
      }
    });
  </script>
</body>
</html>
